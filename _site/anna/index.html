<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-2709176-10"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-2709176-10'); </script> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><title>Legacy Curation (2018-2020) | Reward Project Documentation</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Legacy Curation (2018-2020)" /><meta property="og:locale" content="en_US" /><meta name="description" content="Documentation of Reward Data Processing and Analysis" /><meta property="og:description" content="Documentation of Reward Data Processing and Analysis" /><link rel="canonical" href="http://localhost:4000/anna/" /><meta property="og:url" content="http://localhost:4000/anna/" /><meta property="og:site_name" content="Reward Project Documentation" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Legacy Curation (2018-2020)" /> <script type="application/ld+json"> {"headline":"Legacy Curation (2018-2020)","url":"http://localhost:4000/anna/","@type":"WebPage","description":"Documentation of Reward Data Processing and Analysis","@context":"https://schema.org"}</script><body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> Reward Project Documentation </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">Home</a><li class="nav-list-item active"><a href="http://localhost:4000/anna/" class="nav-list-link active">Legacy Curation (2018-2020)</a><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/projects/neff/neff_index/" class="nav-list-link">NEFF V1 & V2</a><ul class="nav-list "></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/projects/fndm1/fndm1_index/" class="nav-list-link">FNDM1</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/projects/fndm1/datanarrative/" class="nav-list-link">Data Narrative</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/projects/fndm2/fndm2_index/" class="nav-list-link">FNDM2</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/projects/fndm2/datanarrative/" class="nav-list-link">Data Narrative</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/projects/nodra/nodra_index/" class="nav-list-link">Nodra</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/projects/nodra/datanarrative/" class="nav-list-link">Data Narrative</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/projects/day2/day2_index/" class="nav-list-link">Day2</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/projects/day2/datanarrative/" class="nav-list-link">Data Narrative</a></ul><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/projects/cogtrain/cogtrain_index/" class="nav-list-link">CogTrain</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/projects/cogtrain/datanarrative/" class="nav-list-link">Data Narrative</a><li class="nav-list-item "><a href="http://localhost:4000/projects/cogtrain/itc_task_events/" class="nav-list-link">ITC Task Events</a></ul></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Reward Project Documentation" aria-label="Search Reward Project Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//github.com/PennLINC/Reward" class="site-button" > Edit on GitHub </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><div id="main-content" class="main-content" role="main"><h1 id="reward-documentation-2020"> <a href="#reward-documentation-2020" class="anchor-heading" aria-labelledby="reward-documentation-2020"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Reward Documentation (2020)</h1><p>Last updated: July 1, 2020 <br /> Written by Anna Xu</p><p>Reward is a dataset comprised of 6 projects collected over the span of years, totaling 509 participants (note that some participants were present in multiple projects). These are the 6 projects with the scans available in them:</p><ul><li><strong>FNDM1</strong>: T1w, ASL, b0 phase 1 and 2, b0 magnitude, resting-state, task fMRI (face run 1 and 2; card run 1 and 2)<li><strong>FNDM2</strong>: T1w, b0 phase 1 and 2, b0 magnitude, resting-state, task fMRI (itc runs 1-4)<li><strong>NEFF</strong>: T1w, b0 phasediff, b0 magnitude, task fMRI (effort runs 1-4)<ul><li>Note that 15 participants from FNDM2 have been reclassified into NEFF because they are neff pilots identified by Dan</ul><li><strong>NEFF2</strong>: T1w, b0 phasediff, b0 magnitude, task fMRI (effort runs 1-4)<li><strong>NODRA</strong>: T1w, b0 phasediff, b0 magnitude, resting-state, task fMRI (card runs 1-2, itc runs 1-2)<ul><li>Note that some participants have multiband resting-state scans while others have single band or both</ul><li><strong>DAY2</strong>: T1w, ASL, b0 phase 1 and 2, b0 magnitude, resting-state, task fMRI (face run 1 and 2; card run 1 and 2), and DTI for very few participants (n&lt;20)</ul><h2 id="imaging--task-data-status-flywheel"> <a href="#imaging--task-data-status-flywheel" class="anchor-heading" aria-labelledby="imaging--task-data-status-flywheel"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Imaging &amp; Task Data Status (Flywheel)</h2><h2 id="scan-data--associated-task-behavioral-data"> <a href="#scan-data--associated-task-behavioral-data" class="anchor-heading" aria-labelledby="scan-data--associated-task-behavioral-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scan data &amp; associated task behavioral data</h2><h3 id="completeness"> <a href="#completeness" class="anchor-heading" aria-labelledby="completeness"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Completeness</h3><p>All scan data found on XNAT and associated task behavioral data found on XNAT or CfN has been uploaded onto Flywheel in the project <code class="language-plaintext highlighter-rouge">Reward2018</code>. Scan data was de-identified by uploading with the command <code class="language-plaintext highlighter-rouge">fw import dicom ${dicomUploadPath} mcieslak "Reward2018" --subject ${bblid} --session ${subproject} -y --profile "dicom_config.yaml"</code> in the command line and with the configuration file <code class="language-plaintext highlighter-rouge">dicom_config.yaml</code> found on Flywheel in <code class="language-plaintext highlighter-rouge">Reward2018 &gt; Information</code>.</p><p>The following procedure checked to make sure all expected scans on XNAT were accounted for on Flywheel:</p><ul><li>All participants on XNAT were cross-checked with all participants on Flywheel to ensure that each expected participant in Reward had their scans on Flywheel.<li>For each individual participant, completeness of scans were checked. If a participant did not have all the scans expected based on the project they were from, the missing scans were checked for on XNAT. If they existed on XNAT, the scans were uploaded onto Flywheel. If they were <em>not</em> on XNAT, they were documented on an excel file found on Flywheel in <code class="language-plaintext highlighter-rouge">Reward2018 &gt; information &gt; missingScans_20200624.xls</code> with any notes from XNAT documented.<ul><li>This excel file contains the sheet <code class="language-plaintext highlighter-rouge">missingScanNotes</code> which details the bblid, project, scan missing, reason for scan missing (either not on xnat, upload error, or excluded participant), notes from xnat, and notes I’ve written.<li>The other sheet on this spreadsheet is <code class="language-plaintext highlighter-rouge">missingScanCount</code> which contains the number of scans missing for each particular scan in each project.</ul></ul><p>Scanid for each participant has also been noted in the custom info for each subject/session.</p><h3 id="fw-heudiconv"> <a href="#fw-heudiconv" class="anchor-heading" aria-labelledby="fw-heudiconv"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fw-heudiconv</h3><p>These scans have also been fw’heudiconv-ed using <a href="https://github.com/PennLINC/Reward/tree/master/oldScripts/annaHeuristics2019">these heuristics</a> and the command <code class="language-plaintext highlighter-rouge">fw-heudiconv-curate --project "Reward2018" --heuristic "${heuristicFile}" --session "${subproject}" --subject "${bblid}"</code>.</p><p>You can also use the script <a href="https://github.com/PennLINC/Reward/blob/master/oldScripts/annaHeuristics2019/subsetFwheudiconv.sh">subsetFwheudiconv.sh</a> to mass run fw-heudiconv for a select few participants.</p><h3 id="fmriprep"> <a href="#fmriprep" class="anchor-heading" aria-labelledby="fmriprep"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> fMRIPrep</h3><p>Some scans have been processed with an old version of fMRIPrep but all scans may need to be fMRIPrep’d again with the latest version of fMRIPrep. <a href="https://github.com/PennLINC/Reward/blob/master/oldScripts/runfMRIPrep.py">runfMRIPrep.py</a> details the previous process of running fMRIPrep.</p><h3 id="task-files"> <a href="#task-files" class="anchor-heading" aria-labelledby="task-files"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Task files</h3><p>Files documenting all nifti scans and their associated task behavioral data can be found on Flywheel in the file <code class="language-plaintext highlighter-rouge">fwScansTask_20200624.csv</code>. This file is located in <code class="language-plaintext highlighter-rouge">Reward2018 &gt; Information</code> and contains the following variables:</p><ul><li><code class="language-plaintext highlighter-rouge">bblid</code>, <code class="language-plaintext highlighter-rouge">projects</code><li><code class="language-plaintext highlighter-rouge">scan_file</code>: name of the nifti<li><code class="language-plaintext highlighter-rouge">bids</code>: BIDS name of the nifti<li><code class="language-plaintext highlighter-rouge">file_type</code>: type of scan (e.g., b0 magnitude, resting-state, etc.)<li><code class="language-plaintext highlighter-rouge">assoc_task_file</code>: name of task file uploaded onto Flywheel that is associated with the particular scan<li><code class="language-plaintext highlighter-rouge">is_task</code>: tells you whether the scan is a task fMRI scan<li><code class="language-plaintext highlighter-rouge">is_task_missing</code>: tells you whether the associated task file for a task fMRI scan is missing.</ul><p>Another file, <code class="language-plaintext highlighter-rouge">missingTaskFiles_20200625.csv</code> documents a summary of the missing task files. This file is currently on the <code class="language-plaintext highlighter-rouge">reward_data_mgmt</code> slack channel (unsure if this is also on the Reward2018 project on Flywheel due to inability to check Flywheel before my departure). This file contains the following:</p><ul><li><code class="language-plaintext highlighter-rouge">is_missing</code>: tells you whether the participant is missing is missing a task file, but since this spreadsheet is just of participants missing a task behavioral file, they all are<li><code class="language-plaintext highlighter-rouge">n()</code>: tells you how many task behavioral files associated with a participant is missing</ul><p>If needed, <a href="https://github.com/PennLINC/Reward/blob/master/oldScripts/scanAuditFlywheel.py">scanAuditFlywheel.py</a> goes through the process of generating a large spreadsheet of all files present in the Reward2018 project. To generate these associated files, use the script <a href="https://github.com/PennLINC/Reward/blob/master/oldScripts/scanTaskDocumention.R">scanTaskDocumentation.R</a> which sources code from <a href="https://github.com/PennLINC/Reward/blob/master/oldScripts/classify_scans.R">classify_scans.R</a> and <a href="https://github.com/PennLINC/Reward/blob/master/oldScripts/classify_task.R">classify_task.R</a>.</p><h2 id="other-data"> <a href="#other-data" class="anchor-heading" aria-labelledby="other-data"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Other data</h2><h3 id="demographics-medication-status-diagnosis"> <a href="#demographics-medication-status-diagnosis" class="anchor-heading" aria-labelledby="demographics-medication-status-diagnosis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Demographics, Medication Status, Diagnosis</h3><p>Demographics, medication status, diagnosis, and effort data are currently with Dan (not uploaded anywhere). Missing data has been previously reported in the <code class="language-plaintext highlighter-rouge">reward_data_mgmt</code> slack channel.</p><h3 id="aylins-monster"> <a href="#aylins-monster" class="anchor-heading" aria-labelledby="aylins-monster"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Aylin’s Monster</h3><p>Aylin’s monster scripts can be found in the Reward GitHub repo by clicking <a href="https://github.com/PennLINC/Reward/tree/master/oldScripts/aylinsMonster">here</a>. A wiki page of old documentation for Aylin’s monster can be found <a href="https://github.com/PennLINC/Reward/wiki/Aylin's-Monster-(OLD)">here</a>.</p><hr><footer><p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2017-2019 Patrick Marsceill. Distributed by an <a href="https://github.com/PennLINC/PennLINC.github.io/tree/master/LICENSE.txt">MIT license.</a></p></footer></div></div><div class="search-overlay"></div></div>
